// Generated by CoffeeScript 1.9.1
(function() {
  var TestRenderer, createRenderer, createShallowRenderer, reactTestUtils;

  reactTestUtils = require('react-addons-test-utils');

  TestRenderer = require('./test-renderer');

  createRenderer = function(Component, context) {
    var shallowRenderer, testRenderer;
    if (context == null) {
      context = null;
    }
    shallowRenderer = createShallowRenderer();
    testRenderer = new TestRenderer(shallowRenderer, Component, context);
    return testRenderer;
  };

  createShallowRenderer = function() {
    var renderInternal, shallowRenderer;
    shallowRenderer = reactTestUtils.createRenderer();
    renderInternal = shallowRenderer._render;
    shallowRenderer._render = function(element, transaction, context) {
      if (transaction.isInTransaction()) {
        return renderInternal();
      }
      return transaction.perform(renderInternal, this, element, transaction, context);
    };
    return shallowRenderer;
  };

  module.exports = {
    TestRenderer: TestRenderer,
    createRenderer: createRenderer
  };

}).call(this);
